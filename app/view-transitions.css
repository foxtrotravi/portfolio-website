::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
  display: block;
}

::view-transition-group(root) {
  animation: none;
}

::view-transition-old(root) {
  z-index: 1;
}

::view-transition-new(root) {
  z-index: 9999;
  animation: 700ms cubic-bezier(0.4, 0, 0.2, 1) both diagonal-wipe;
}

@keyframes diagonal-wipe {
  0% {
    clip-path: polygon(-50% -50%, 0% -50%, -50% 0%);
  }
  100% {
    clip-path: polygon(-50% -50%, 150% -50%, 150% 150%, -50% 150%);
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  ::view-transition-new(root) {
    animation: 300ms ease-in-out both fade-in;
  }
  
  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }
}
